<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Figma → Elementor</title>
  <link rel="stylesheet" href="tokens.css">
  <link rel="stylesheet" href="ui.css">
  <link rel="stylesheet" href="ui-dark.css">
  <script defer src="ui.js"></script>
</head>
<body>
  <div class="app">
    <header class="tab-bar">
      <button class="tab-btn active" data-tab="layout">Layout → Elementor</button>
      <button class="tab-btn" data-tab="ai">Configuração da IA</button>
      <button class="tab-btn" data-tab="wp">WordPress</button>
      <button class="tab-btn" data-tab="help">Ajuda</button>
    </header>

    <main class="tab-contents">
      <!-- Layout -->
      <section id="tab-layout" class="tab-content active">
        <div class="panel">
          <div class="panel-header">Ações rápidas</div>
          <div class="actions-grid">
            <button class="btn primary" data-action="inspect">Inspecionar Layout</button>
            <button class="btn primary" data-action="generate-json">Gerar JSON Elementor</button>
            <button class="btn" data-action="copy-json">Copiar JSON</button>
            <button class="btn" data-action="download-json">Baixar JSON</button>
            <button class="btn secondary" data-action="export-wp">Exportar WP</button>
          </div>
        </div>

        <div class="panel">
          <div class="panel-header">Saída / Logs</div>
          <textarea id="output" readonly placeholder="O JSON gerado aparecerá aqui"></textarea>
          <div id="logs" class="logs"></div>
        </div>
      </section>

      <!-- IA -->
      <section id="tab-ai" class="tab-content">
        <div class="panel">
          <div class="panel-header">Configuração da IA (Gemini)</div>
          <label class="input-label" for="ai-key">API Key</label>
          <input id="ai-key" type="password" placeholder="Cole sua API Key do Gemini">
          <button class="btn primary" data-action="test-gemini">Testar conexão</button>
          <div id="gemini-status" class="status"></div>
        </div>
      </section>

      <!-- WP -->
      <section id="tab-wp" class="tab-content">
        <div class="panel">
          <div class="panel-header">WordPress</div>
          <label class="input-label" for="wp-url">WP URL</label>
          <input id="wp-url" type="text" placeholder="https://site.com">

          <label class="input-label" for="wp-token">WP Token</label>
          <input id="wp-token" type="text" placeholder="Token ou Basic Auth">

          <label class="checkbox">
            <input id="chk-export-images" type="checkbox" checked>
            <span>Exportar imagens</span>
          </label>
          <label class="checkbox">
            <input id="chk-create-page" type="checkbox">
            <span>Criar página automaticamente</span>
          </label>

          <div class="actions-row">
            <button class="btn primary" data-action="test-wp">Testar WP</button>
            <button class="btn secondary" data-action="export-wp">Exportar WP</button>
          </div>
          <div id="wp-status" class="status"></div>
        </div>
      </section>

      <!-- Ajuda -->
      <section id="tab-help" class="tab-content">
        <div class="panel">
          <div class="panel-header">Boas práticas</div>
          <ul class="help-list">
            <li>Selecione um frame raiz no Figma antes de gerar.</li>
            <li>Use Auto Layout no Figma para preservar flex-direction.</li>
            <li>Evite agrupar manualmente widgets em colunas; o plugin usa containers flex.</li>
            <li>Preencha API Key do Gemini para validações e prompts mais consistentes.</li>
            <li>Configure WP URL e Token se quiser exportar imagens/página.</li>
            <li>Use “Inspecionar Layout” para checar a árvore antes de gerar.</li>
          </ul>
        </div>
      </section>
    </main>
  </div>
</body>
</html>
